$cmds{mainprojid}{cmd}="GET http://controller:35357/v3/projects[?]name=quattorstore";
$cmds{mainprojid}{result}={projects => [{id => 2}]};
$cmds{existingchildproj}{cmd}="GET http://controller:35357/v3/projects[?]parent_id=2";
$cmds{existingchildproj}{result}={projects => [
    {id => 10, name => "quattorstore_4", tags => []},
    ]};

sub dopost {
    my ($name, $oper, $reg, $id) = @_;
    $cmds{$name}{cmd}='POST http://controller:35357/v3/'.$oper.'s/ .*'.$reg.'.*';
    $cmds{$name}{result}={$oper => {id => $id}};
};
dopost('crregone', 'region', '"id":"regionOne"', 'regionOne');
dopost('crregtwo', 'region', '"id":"regionTwo"', 'regionTwo');
dopost('crregthree', 'region', '"id":"regionThree"', 'regionThree');

dopost('domvo1', 'domain', '"description":"vo1","enabled":true,"name":"vo1"', 'dom12345');
dopost('domvo2', 'domain', '"description":"vo2","enabled":true,"name":"vo2"', 'dom23456');

$cmds{domvo1id}{cmd}="GET http://controller:35357/v3/domains[?]name=vo1";
$cmds{domvo1id}{result}={domains => [{id => 'dom12345', name => "vo1"}]};
$cmds{domvo2id}{cmd}="GET http://controller:35357/v3/domains[?]name=vo2";
$cmds{domvo2id}{result}={domains => [{id => 'dom23456', name => "vo2"}]};

dopost('projopq', 'project', '\{"enabled":true,"name":"opq"', 'pro123'); # no description
dopost('projvo1', 'project', '"description":"main vo1 project","domain_id":"dom12345","enabled":true,"name":"vo1"', 'pro124');
dopost('projvo2', 'project', '"description":"main vo2 project","domain_id":"dom23456","enabled":true,"name":"vo2"', 'pro125');

$cmds{projvo1id}{cmd}="GET http://controller:35357/v3/projects[?]name=vo1";
$cmds{projvo1id}{result}={projects => [{id => 'pro124', name => "vo1"}]};

dopost('projvo1real', 'project', '"description":"some real project","enabled":true,"name":"realproject","parent_id":"pro124"', 'pro126');

dopost('userone', 'user', '"description":"first user","enabled":true,"name":"user1","password":"abc"', 'use12');

dopost('groupone', 'group', '"description":"first group","domain_id":"dom23456","enabled":true,"name":"grp1"', 'use12');

dopost('serviceone', 'service', '"description":"OS image","enabled":true,"name":"glance","type":"image"', 'serv111');
